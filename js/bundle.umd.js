!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){function e(e,n){return e.map(function(e){return e+(-(t=n)+Math.random()*t*2);var t})}function n(e){var n=e.rainbow,t=void 0!==n&&n,o=e.geometry,r=e.material,a=e.multiplier,s=e.duration,u=e.points,c=[{name:"aPositionStart",data:u[0],size:3},{name:"aControlPointOne",data:u[1],size:3},{name:"aControlPointTwo",data:u[2],size:3},{name:"aPositionEnd",data:u[3],size:3},{name:"aOffset",data:function(e){return[e*((1-s)/(a-1))]},size:1}];t&&c.push({name:"aColor",data:function(e,n){var t=new THREE.Color;return t.setHSL(e/n,.6,.7),[t.r,t.g,t.b]},size:3});var l="\n    attribute vec3 aPositionStart;\n    attribute vec3 aControlPointOne;\n    attribute vec3 aControlPointTwo;\n    attribute vec3 aPositionEnd;\n    attribute float aOffset;\n    uniform float time;\n    "+(t?"attribute vec3 aColor; varying vec3 vColor;":"")+"\n\n    float easeInOutSin(float t){\n      return (1.0 + sin("+Math.PI+" * t - "+Math.PI+" / 2.0)) / 2.0;\n    }\n\n    vec4 quatFromAxisAngle(vec3 axis, float angle) {\n      float halfAngle = angle * 0.5;\n      return vec4(axis.xyz * sin(halfAngle), cos(halfAngle));\n    }\n\n    vec3 rotateVector(vec4 q, vec3 v) {\n      return v + 2.0 * cross(q.xyz, cross(q.xyz, v) + q.w * v);\n    }\n\n    vec3 bezier4(vec3 a, vec3 b, vec3 c, vec3 d, float t) {\n      return mix(mix(mix(a, b, t), mix(b, c, t), t), mix(mix(b, c, t), mix(c, d, t), t), t);\n    }\n\n    void main(){\n      float tProgress = easeInOutSin(min(1.0, max(0.0, (time - aOffset)) / "+s+"));\n      vec4 quatX = quatFromAxisAngle(vec3(1.0, 0.0, 0.0), -5.0 * tProgress);\n      vec4 quatY = quatFromAxisAngle(vec3(0.0, 1.0, 0.0), -5.0 * tProgress);\n      vec3 basePosition = rotateVector(quatX, rotateVector(quatY, position));\n      vec3 newPosition = bezier4(aPositionStart, aControlPointOne, aControlPointTwo, aPositionEnd, tProgress);\n      float scale = tProgress * 2.0 - 1.0;\n      scale = 1.0 - scale * scale;\n      basePosition *= scale;\n      gl_Position = basePosition + newPosition;\n      "+(t?"vColor = aColor;":"")+"\n    }\n  ",f=new THREE.Phenomenon({attributes:c,uniforms:{time:{value:0}},vertex:l,geometry:o,multiplier:a,material:r,fragment:t?[["#define PHONG","varying vec3 vColor;"],["vec4( diffuse, opacity )","vec4( vColor, opacity )"],["vec3 totalEmissiveRadiance = emissive;","vec3 totalEmissiveRadiance = vColor;"]]:[]});return i.add(f.mesh),f}document.addEventListener("DOMContentLoaded",function(e){var n=["Building Impactful Technology.","Studying EECS + Business.","Embodying Purposeful Entrepreneurship.","Solving Real Problems."];function t(e,n,i){n<e.length?(document.getElementsByClassName("header__text")[0].innerHTML=e.substring(0,n+1)+'<span aria-hidden="true"></span>',setTimeout(function(){t(e,n+1,i)},100)):"function"==typeof i&&setTimeout(i,700)}!function e(i){void 0===n[i]&&setTimeout(function(){e(0)},2e4),i<n[i].length&&t(n[i],0,function(){e(i+1)})}(0)}),document.addEventListener("DOMContentLoaded",function(e){var n=["from away using Voice Recognition","discretely using the Volume Buttons","passively with SMS reciprocation","actively with the SOS widget"];function t(e,n,i){n<e.length?(document.getElementsByClassName("rescuer_features")[0].innerHTML=e.substring(0,n+1)+'<span aria-hidden="true"></span>',setTimeout(function(){t(e,n+1,i)},100)):"function"==typeof i&&setTimeout(i,700)}!function e(i){void 0===n[i]&&setTimeout(function(){e(0)},5e3),i<n[i].length&&t(n[i],0,function(){e(i+1)})}(0)});var t=new THREE.WebGLRenderer({antialias:!0});t.setClearColor(2171169,0),t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio>=2?2:1),document.body.appendChild(t.domElement);var i=new THREE.Scene,o=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,.1,1e4);o.position.set(0,20,35),o.lookAt(i.position),i.add(o);var r=new THREE.AmbientLight("#ffffff",.1);i.add(r);var a=new THREE.SpotLight(16777215,1,80,.25*Math.PI,1,2);function s(){t.render(i,o)}function u(e){return"#"+(new THREE.Color).setHSL(e,.5,.5).getHexString()}a.position.set(0,40,0),i.add(a);var c=[n({geometry:new THREE.IcosahedronGeometry(1,0),material:new THREE.MeshPhongMaterial({emissive:u(0),specular:"#efefef",shininess:20,flatShading:!0}),multiplier:200,duration:.7,points:[function(){return e([0,0,0],10)},function(){return e([0,0,0],8)},function(){return e([0,0,0],2)},function(){return e([0,0,0],12)}]}),n({geometry:new THREE.BoxGeometry(1,1,1),material:new THREE.MeshPhongMaterial({emissive:u(.5/3),specular:"#efefef",shininess:20,flatShading:!0}),multiplier:200,duration:.4,points:[function(){return e([-10,0,0],4)},function(){return e([-2.5,-10,0],4)},function(){return e([2.5,10,0],4)},function(){return e([10,0,0],4)}]}),n({geometry:new THREE.TetrahedronGeometry(1),material:new THREE.MeshPhongMaterial({emissive:u(.5),specular:"#efefef",shininess:20,flatShading:!0}),multiplier:400,duration:.4,points:[function(){return e([0,10,0],10)},function(){return e([0,0,0],10)},function(){return e([0,0,0],10)},function(){return e([0,-10,0],10)}]}),n({rainbow:!0,geometry:new THREE.IcosahedronGeometry(.8,3),material:new THREE.MeshPhongMaterial({emissive:u(2/3),specular:"#efefef",shininess:20,flatShading:!0}),multiplier:400,duration:.4,points:[function(){return e([0,-20,0],0)},function(){return e([0,10,0],0)},function(){return e([0,-10,0],10)},function(){return e([0,15,0],15)}]}),n({rainbow:!0,geometry:new THREE.IcosahedronGeometry(.8,3),material:new THREE.MeshPhongMaterial({emissive:u(2.5/3),specular:"#efefef",shininess:20,flatShading:!0}),multiplier:234,duration:.4,points:[function(){return e([0,-20,0],0)},function(){return e([0,10,0],0)},function(){return e([0,-10,0],10)},function(){return e([0,15,0],15)}]})],l=document.querySelectorAll(".heading"),f=document.querySelector(".header");uos(0,1,function(e){return s()}),uos(0,.05,function(e){return f.style.opacity=1-e});for(var d=1/c.length,m=function(e){var n=e*d,t=n+.5*d,i=(e+1)*d;uos(n,t,function(n){return c[e].uniforms.time.value=n}),uos(t,i,function(n){var t=2*n-1;t=1-t*t,l[e].style.opacity=e===c.length-1?1.5*n:1.5*t})},v=0;v<c.length;v+=1)m(v);function h(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight);for(var e=document.querySelectorAll(".heading"),n=0;n<e.length;n+=1)e[n].style.height=window.innerHeight+"px";s()}requestAnimationFrame(function(){window.scrollTo(0,0),h(),P(),f.style.opacity=1}),window.addEventListener("resize",h,!1);var g=[],p={x:0,y:0},w=function(){var e;this.x=0,this.y=0,this.node=((e=document.createElement("div")).className="trail",document.body.appendChild(e),e)};w.prototype.draw=function(){this.node.style.left=this.x+"px",this.node.style.top=this.y+"px"};for(var y=0;y<12;y++){var E=new w;g.push(E)}function P(){var e=p.x,n=p.y;g.forEach(function(t,i,o){var r=o[i+1]||o[0];t.x=e,t.y=n,t.draw(),e+=.6*(r.x-t.x),n+=.6*(r.y-t.y)})}addEventListener("mousemove",function(e){p.x=e.pageX,p.y=e.pageY}),function e(){P(),requestAnimationFrame(e)}()});
